{"version":3,"sources":["components/News.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","card","maxWidth","margin","spacing","media","height","typ","textDecoration","color","News","props","console","log","classes","Card","className","CardHeader","avatar","Avatar","alt","title","src","action","IconButton","aria-label","subheader","publishedAt","CardMedia","image","CardContent","Typography","variant","component","description","source","name","href","url","formControl","minWidth","selectEmpty","marginTop","App","failure","success","useState","query","setQuery","news","setNews","weather","setWeather","open","setOpen","wfetch","setWfetch","APP_KEY","getData","a","lang","Axios","get","then","result","data","articles","catch","error","getHomeData","homeUrl","newsItem","getWeatherData","lat","long","wurl","handleClose","event","reason","window","navigator","geolocation","position","coords","latitude","longitude","message","alert","getCurrentPosition","maximumAge","Infinity","timeout","React","setLang","aria-hidden","onSubmit","e","preventDefault","type","placeholder","onChange","target","value","FormControl","InputLabel","id","Select","labelId","MenuItem","map","key","uuidv4","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","Fragment","size","onClick","fontSize","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7ea9f492.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    maxWidth: 345,\n    margin: theme.spacing(2),\n  },\n  media: {\n    height: 190,\n  },\n  typ:{\n    textDecoration: \"none\",\n    color: \"#696969\"\t\n  }\n}));\n\nfunction News(props) {\n    console.log(\"inside news\");\n        \n    console.log(props);\n    \n//   const {title,description,image,url} = props.newsItem;\n\n  const classes = useStyles();\n\n  return (\n\n    // Material UI Card which displays news items  \n\n    <Card className={classes.card}>\n      <CardHeader\n        avatar={\n            <Avatar\n              alt={props.props.title}\n              src=\"https://image.shutterstock.com/z/stock-vector-n-letter-linked-n-letter-circle-logo-n-o-and-o-n-letter-modern-design-vector-illustration-731097922.jpg\"\n            />\n        }\n        action={\n            <IconButton aria-label=\"settings\">\n              <MoreVertIcon />\n            </IconButton>\n        }\n        title={\n            props.props.title\n        }\n        subheader={props.props.publishedAt}\n      />\n      {\n        <CardMedia\n          className={classes.media}\n          image={props.props.image}\n          title=\"Ted talk\"\n        />\n      }\n\n      <CardContent>\n        {\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n           {props.props.description}\n           <br/>\n            Source : {\n                props.props.source.name \n           }\n           <br/>\n\n         <a className={classes.typ} href = {props.props.url}>Read More</a>\n          </Typography>\n          \n           \n        }\n      </CardContent>\n    </Card>\n  );\n}\n\n\n\nexport default News;\n\n","import React, {useState} from 'react';\nimport Axios from 'axios';\nimport {v4 as uuidv4} from \"uuid\"; \nimport './App.css';\nimport News from './components/News';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\n// Styles for material UI select button \n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n  }));\n\n\nconst App = () => {\n    const [query, setQuery] = useState(\"\");\n    // const [wquery, setWeatherQuery] = useState(\"\");\n    const [news, setNews] = useState([]);\n    const [weather, setWeather] = useState(\"\");\n    const [open, setOpen] = useState(false);\n    const [wfetch, setWfetch] = useState(true);\n\n\n    // const APP_KEY = \"b9a8f27653efa822e6533b678916eb30\";\n    // added new token \n\n    // API Key for fetching news , Had to create 2 keys due to 100 requests traffic limitations\n\n    const APP_KEY = \"4f09e1276dd1075aac00c30e859d0710\";\n\n    // const content = \"kerala\";\n    // const url =  `https://gnews.io/api/v3/search?q=${query}&token=${APP_KEY}`;\n    // GET https://gnews.io/api/v3/search?apple&lang=ml&token=4f09e1276dd1075aac00c30e859d0710 \n    // b9a8f27653efa822e6533b678916eb30\n    \n   \n\n// Function for retreiving news  \n\n    const getData = async () => {\n        const url =`https://gnews.io/api/v3/search?q=${query}&lang=${lang}&token=${APP_KEY} `; \n\n        const result = await Axios.get(url)\n        .then(result=>{\n            console.log('inside getdata');\n            \n            setNews(result.data.articles);\n            console.log(result);\n            setQuery(\" \");\n            \n        })\n        .catch(error => {\n            console.log(error);\n        })\n        \n        \n    };\n\n// Retrives homepage news data \n    const getHomeData = async () => {\n        // const homeUrl =  `https://gnews.io/api/v3/topics/technology?&token=${APP_KEY}`;\n        const homeUrl =  `https://gnews.io/api/v3/search?q=world&token=${APP_KEY}`;\n        // GET https://gnews.io/api/v3/topics/world?token=API-Token\n        const result = await Axios.get(homeUrl)\n        .then(result=>{\n            console.log('inside homegetdata');\n            \n            setNews(result.data.articles);\n            setNews(result.data.articles.newsItem.image);\n            console.log(result);\n            setQuery(\" \");\n            \n        })\n        .catch(error => {\n            console.log(error);\n        })\n        \n        \n    };\n\n\n    // API Key for weather \n     \n    const WAPP_KEY = \"8a8f33585b25d8f61b26f7cfa645d3a5\";\n    // 8a8f33585b25d8f61b26f7cfa645d3a5 \n    // api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={your api key} \n\n// Function for retrieving weather \n\n    const getWeatherData = async (lat,long) => {\n        const wurl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&appid=${WAPP_KEY}`;    \n        const result = await Axios.get(wurl)\n        .then(result=>{\n            console.log('inside weather func');\n            setWeather(result.data.weather[0].description);\n            console.log(result);\n            // setQuery(\" \");\n            \n        })\n        .catch(error => {\n            console.log(error);\n        })\n        \n        \n    };\n\n    const onChange = e => {\n        setQuery(e.target.value);\n        \n    };\n\n    const onSubmit = e => {\n        e.preventDefault();\n        getData();\n    };\n\n    const handleClose = (event, reason) => {\n        if (reason === 'clickaway') {\n          return;\n        }\n        setOpen(false);\n    }\n\n// User Geolocation fetching function \n\n    if (window.navigator.geolocation && wfetch) {\n        var failure, success;\n        success = function(position) {\n          console.log(position);\n          var lat = position.coords.latitude;\n          var long = position.coords.longitude;\n          getWeatherData(lat, long);\n          setOpen(true);\n          setWfetch(false);\n          getHomeData();\n        };\n        failure = function(message) {\n          alert('Cannot retrieve location!');\n          setWfetch(false);\n        };\n        navigator.geolocation.getCurrentPosition(success, failure, {\n          maximumAge: Infinity,\n          timeout: 5000\n        });\n    }\n\n\n//  Dropdown for weather \n\n    const classes = useStyles();\n    const [lang, setLang] = React.useState('en');\n\n    const handleChange = (event) => {\n        event.preventDefault();\n        console.log(event.target.value);\n        setLang(event.target.value);\n    };\n\n\n\n    return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n             <h1><i className=\"fa fa-newspaper-o\" aria-hidden=\"true\"></i> NEWSPAPER.IO</h1>\n             <p> </p>\n           </header> \n\n\n           <form className=\"search-form\" onSubmit={onSubmit}>\n                 <input \n                 type=\"text\"\n                 placeholder=\"Search News!\" \n                 onChange={onChange}\n                 value={query}\n                 />\n\n\n                    <FormControl className={classes.formControl}>\n                            <InputLabel id=\"demo-simple-select-label\">Language</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label\"\n                                id=\"demo-simple-select\"\n                                value={lang}\n                                onChange={handleChange}\n                            >\n                            <MenuItem value={'en'}>English (Default)</MenuItem>\n                            <MenuItem value={'fr'}>French</MenuItem>\n                            <MenuItem value={'de'}>German</MenuItem>\n                            <MenuItem value={'it'}>Italian</MenuItem>\n                            </Select>\n                    </FormControl>\n\n\n\n                 <input type=\"submit\" value=\"Search\"/>\n            </form>\n            <div className=\"news\">\n                {news !== [] && news.map(newsItem =>\n                    <News key={uuidv4()} props={newsItem}/> \n                    // console.log(newsItem)\n                    \n                    )}\n            </div>\n{/* Snackbar for showing weather information  */}\n            <Snackbar\n                anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'left',\n                }}\n                open={open}\n                autoHideDuration={6000}\n                onClose={handleClose}\n                message={'Weather Outside  : ' + weather}\n                action={\n                <React.Fragment>\n                    {/* <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\n                    UNDO\n                    </Button> */}\n                    <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n                    <CloseIcon fontSize=\"small\" />\n                    </IconButton>\n                </React.Fragment>\n                }\n              />\n\n\n\n\n        </div>\n    )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>,document.getElementById\n  ('root'));\n\n"],"sourceRoot":""}